[English](README.md) | [한국어](README.kr.md)

# Mahjong Soul Link Changer (雀魂リンク変換器)

このChrome拡張機能は、設定に基づいて雀魂のゲームURLをグローバル、韓国、日本サーバー間で自動的にリダイレクトします。

> **お知らせ**: 新しい拡張機能が https://chromewebstore.google.com/detail/ecjkkppiddmajmohljjapkndjehebphp/ に登録される予定です。

## 機能

- **マルチサーバー対応**: グローバル(`mahjongsoul.game.yo-star.com`)、韓国(`mahjongsoul.game.yo-star.com/kr`)、日本(`game.mahjongsoul.com`)サーバー間を簡単に切り替えることができます。
- **自動リダイレクト**: `room`（友人戦）および `paipu`（牌譜）リンクを自動的に検出し、選択したサーバーにリダイレクトします。
- **使いやすいインターフェース**: シンプルなポップアップインターフェースでターゲットサーバーを選択できます。
- **多言語対応**: 英語、韓国語、日本語に対応しています。

## インストール方法

1. このリポジトリをクローンまたはダウンロードします。
2. Chromeを開き、`chrome://extensions`に移動します。
3. 右上の**デベロッパーモード**を有効にします。
4. **パッケージ化されていない拡張機能を読み込む**をクリックします。
5. このプロジェクトの`src`ディレクトリを選択します。

## 権限の説明

この拡張機能が正しく機能するには、以下の権限が必要です。

- **`tabs`**: 現在のタブのURLにアクセスするために必要です。これにより、雀魂のリンクにアクセスしたことを検出し、クエリパラメータ（`room`や`paipu`など）を読み取ってリダイレクトを実行できます。
- **`storage`**: 優先するターゲットサーバー（グローバル、韓国、日本）の設定を保存するために必要です。これにより、ブラウザを再起動しても選択が維持されます。
- **`webNavigation`**: ナビゲーションイベントをより確実に検出するために必要です。これにより、完全なページリロードをトリガーしないURLの変更（SPAなど）をキャッチしたり、ナビゲーションを早期にインターセプトしたりするのに役立ちます。

## 使い方

1. Chromeツールバーの拡張機能アイコンをクリックします。
2. 希望するサーバー（Global、KR、JP）を選択します。
3. 雀魂のリンク（例：`?room=...`）にアクセスすると、選択したサーバーに自動的にリダイレクトされます。
